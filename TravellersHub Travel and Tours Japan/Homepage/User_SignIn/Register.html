<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Travellers Hub Travel and Tours</title>
    <meta name="" content="">
    <link rel="icon" type="image/png" sizes="367x367" href="../../assets/img/Logo_NoBG.png">
    <link rel="stylesheet" href="../../assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="../../assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="../../assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="../../assets/css/Bold-BS4-Jumbotron-with-Particles-js-1.css">
    <link rel="stylesheet" href="../../assets/css/Bold-BS4-Jumbotron-with-Particles-js.css">
    <link rel="stylesheet" href="../../assets/css/BS5-Jumbotron-with-background-Image.css">
    <link rel="stylesheet" href="../../assets/css/featured-products-slider-1.css">
    <link rel="stylesheet" href="../../assets/css/featured-products-slider.css">
    <link rel="stylesheet" href="../../assets/css/Features-Boxed-1.css">
    <link rel="stylesheet" href="../../assets/css/Features-Boxed.css">
    <link rel="stylesheet" href="../../assets/css/Features-Clean.css">
    <link rel="stylesheet" href="../../assets/css/Footer-Dark.css">
    <link rel="stylesheet" href="../../assets/css/Highlight-Blue.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.css">
    <link rel="stylesheet" href="../../assets/css/Lightbox-Gallery.css">
    <link rel="stylesheet" href="../../assets/css/Login-Animate.css">
    <link rel="stylesheet" href="../../assets/css/Login-Form-Clean.css">
    <link rel="stylesheet" href="../../assets/css/Login-with-overlay-image.css">
    <link rel="stylesheet" href="../../assets/css/Off-Canvas-Sidebar-Drawer-Navbar.css">
    <link rel="stylesheet" href="../../assets/css/Responsive-Sticky-Navigation-1.css">
    <link rel="stylesheet" href="../../assets/css/Responsive-Sticky-Navigation.css">
    <link rel="stylesheet" href="../../assets/css/sidebar-1.css">
    <link rel="stylesheet" href="../../assets/css/Sidebar-Menu-1.css">
    <link rel="stylesheet" href="../../assets/css/Sidebar-Menu.css">
    <link rel="stylesheet" href="../../assets/css/SIdebar-Responsive-2-1.css">
    <link rel="stylesheet" href="../../assets/css/SIdebar-Responsive-2.css">
    <link rel="stylesheet" href="../../assets/css/sidebar.css">
    <link rel="stylesheet" href="../../assets/css/styles.css">
    <link rel="stylesheet" href="../../assets/css/Swipe-Slider-7.css">
    <link rel="stylesheet" href="../../assets/css/Swiper-Slider-Card-For-Blog-Or-Product-1.css">
    <link rel="stylesheet" href="../../assets/css/Swiper-Slider-Card-For-Blog-Or-Product.css">

    <!--OTHER LINK-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Adamina&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Aldrich&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+Sans+SC&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+SC&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Aleo&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alfa+Slab+One&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alike+Angular&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amaranth&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amethysta&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amiko&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Chelsea+Market&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway&amp;display=swap">
</head>
<body>
    <!--NAVBAR-->
    <nav class="navbar navbar-light navbar-expand-lg sticky-top" id="NavbarHomepage" style="background-color: #003630; box-shadow: 0px 0px 6px 0px rgb(0,0,0);margin-bottom: 0px;">
        <div class="container-fluid"><a class="navbar-brand" id="BrandLogo" style="margin-right: -6px;"><img class="img-fluid" src="../assets/img/Logo_NoBG.png" style="width: 80px;margin-right: -12px;margin-top: 0px;padding-bottom: 0px;"></a>
            <div class="container d-flex flex-column justify-content-center align-items-center align-content-center" id="Brand-Name" style="width: 220.797px;margin-left: 5px;margin-top: 16px;">
                <div class="row" id="head-1">
                    <div class="col" style="margin-bottom: -13px;margin-left: -19px;">
                        <h1 style="font-size: 29px;letter-spacing: -1px;color: white;font-family: 'Allerta Stencil', sans-serif;">Travellers<strong>HUB</strong></h1>
                    </div>
                </div>
                <div class="row" id="subhead-1">
                    <div class="col" style="width: 234.797px;">
                        <h3 class="float-start" style="font-size: 19px;text-align: left;color: #0299c4;font-family: 'Alegreya SC', serif;border-color: #8dc53e;">Travel and Tours</h3>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <section class="d-flex login-clean" style="background: #eef4f7;border-top-style: solid;">
        <form id="Register-Form" method="post" action="https://condor-right-partially.ngrok-free.app/api/auth/register"><a id="Return-Home-Link" href="SignIn.html" style="color: #7d8285;"><i class="fas fa-arrow-left" id="Return-Home-Icon" style="font-size: 18px;"></i></a>
            <div class="d-flex illustration">
                <div class="container align-items-center align-content-center align-items-xxl-center">
                    <div class="d-flex justify-content-center">
                        <h3 style="color: #0299c4;">Registration</h3>
                    </div>
                </div>
            </div>
            <div class="d-flex flex-row justify-content-between" id="Name-Regter-Form" style="margin-bottom: 10px;"><input class="form-control" type="text" id="First-Name-Field-Register" style="background: rgb(255,255,255);max-width: 200px;font-size: 14px;" placeholder="First name*" required="" name="firstName"><input class="form-control" type="text" id="Middle-Name-Field-Register" style="background: rgb(255,255,255);font-size: 14px;max-width: 200px;" placeholder="Middle Name" name="middleName"><input class="form-control" type="text" id="Last-Name-Field-Register" style="background: rgb(255,255,255);max-width: 200px;font-size: 14px;" placeholder="Last Name*" required="" name="lastName"></div>
            <div class="d-flex flex-row justify-content-between mb-3" id="Telephone-and-Birth-Date-Regter-Form"><input class="form-control" type="tel" id="Phone-Number-Field-Register" style="background: rgb(255,255,255);font-size: 14px;max-width: 230px;" placeholder="Phone Number*" required="" name="phoneNumber"><input class="form-control" id="Birth-Date-Input-Register" type="date" style="background: rgb(255,255,255);max-width: 230px;font-size: 14px;" required="" name="birthDate"  data-bs-toggle="tooltip" data-bs-placement="top" title="Please enter your birth date in the format DD-MM-YYYY"></div>
            <div class="d-flex flex-row justify-content-between" id="Address-Regter-Form" style="margin-bottom: 46px;"> <input class="form-control" type="text" id="Address-Field-Register-HouseNumber" placeholder="House #*" style="background: rgb(255,255,255);font-size: 14px;" required="" name="addressHouseNumber"> <input class="form-control" type="text" id="Address-Field-Register-Street" placeholder="Street*" style="background: rgb(255,255,255);font-size: 14px;" required="" name="addressStreet"> <input class="form-control" type="text" id="Address-Field-Register-SubdivisionVillage" placeholder="Village*" style="background: rgb(255,255,255);font-size: 14px;" required="" name="addressVillage"> <input class="form-control" type="text" id="Address-Field-Register-Barangay" placeholder="Barangay*" style="background: rgb(255,255,255);font-size: 14px;" required="" name="addressBarangay"> <input class="form-control" type="text" id="Address-Field-Register-City" placeholder="City*" style="background: rgb(255,255,255);font-size: 14px;" required="" name="addressCity"></div>           

            <div id="Email-Regter-Form" style="margin-top: 6px;">
                <p style="font-size: 12px;text-align: center;"><strong>Note: </strong>Email and Password will be used to Log In</p><input class="form-control" type="email" id="Email-Address-Field-Register" style="background: rgb(255,255,255);font-size: 14px;" placeholder="Email*" required="" name="email">
                <div class="d-flex flex-row justify-content-between" id="Password-Regter-Form" style="margin-top: 10px;"><input class="form-control" type="password" id="Password-Field-Register" style="background: rgb(255,255,255);max-width: 230px;font-size: 14px;" placeholder="Password*" required="" name="password" minlength="3"><input class="form-control" type="password" id="Confirm-Password-Field-Register" style="background: rgb(255,255,255);max-width: 230px;font-size: 14px;" placeholder="Confirm Password*" required="" name="confirmPassword" minlength="3"></div>
            </div><button class="btn btn-primary d-block w-100" id="Login-Button" type="submit" style="max-width: 200px;">Register</button>
            <div class="mb-3"></div>
        </form>
    </section>

   <!-- <script>
        // Function to handle registration form submission
        async function register(event) {
            event.preventDefault(); // Prevent the form from submitting the default way

            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData);

            try {
                const response = await fetch('http://localhost:5000/api/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                const result = await response.json();
                if (response.ok) {
                    // Redirect to the login page if registration was successful
                    alert(result.msg); // Optionally show a success message
                    window.location.href = 'SignIn.html'; // Change to your login route
                } else {
                    // Handle errors (like user already exists or passwords do not match)
                    alert(result.msg);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred during registration. Please try again.');
            }
        }

        // Attach the register function to your form's submit event
        document.getElementById('Register-Form').addEventListener('submit', register);

        //
            document.querySelector('#Register-Form').addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = new FormData(e.target);
        const userData = Object.fromEntries(formData.entries());

        try {
            const response = await fetch('http://localhost:5000/api/auth/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(userData),
            });

            if (response.ok) {
                const result = await response.json();
                alert(result.message);

                // Save the user's email for future API calls
                localStorage.setItem('userEmail', result.user.email);

                // Redirect to Account Settings
                window.location.href = 'AccountSettings.html';
            } else {
                const error = await response.json();
                alert(`Error: ${error.message}`);
            }
        } catch (err) {
            console.error('Registration failed:', err);
            alert('Registration failed. Please try again.');
        }
    });


        /*// FUNCTION FOR ACCOUNT SETTINGS ONCE THE USER SUBMIT THE REGISTRATION 
        document.getElementById('Login-Button').addEventListener('click', function() {
        // Simulate form submission and redirect to Clientpage
            window.location.href = '../Clientpage/Clientpage.html?registered=true';
        }); */

    </script> -->

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
    </script>

    <script src="../../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../assets/js/bs-init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="../../assets/js/Off-Canvas-Sidebar-Drawer-Navbar.js"></script>
    <script src="../../assets/js/Off-Canvas-Sidebar-Drawer-Navbar-1.js"></script>
    <script src="../../assets/js/Bold-BS4-Jumbotron-with-Particles-js.js"></script>
    <script src="../../assets/js/Responsive-Sticky-Navigation.js"></script>
    <script src="../../assets/js/Sidebar-Menu.js"></script>
    <script src="../../assets/js/Swiper-Slider-Card-For-Blog-Or-Product.js"></script>
    
    <script src="/client_scripts/register.js"></script>

    

</body>

</html>