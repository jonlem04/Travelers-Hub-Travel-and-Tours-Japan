<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Travellers Hub Travel and Tours</title>
    <meta name="" content="">
    <link rel="icon" type="image/png" sizes="367x367" href="../../assets/img/Logo_NoBG.png">
    <link rel="stylesheet" href="../../assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/css/Clientpage/Clientpage.css">
    <link rel="stylesheet" href="../../assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="../../assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="../../assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="../../assets/css/Bold-BS4-Jumbotron-with-Particles-js-1.css">
    <link rel="stylesheet" href="../../assets/css/Bold-BS4-Jumbotron-with-Particles-js.css">
    <link rel="stylesheet" href="../../assets/css/BS5-Jumbotron-with-background-Image.css">
    <link rel="stylesheet" href="../../assets/css/featured-products-slider-1.css">
    <link rel="stylesheet" href="../../assets/css/featured-products-slider.css">
    <link rel="stylesheet" href="../../assets/css/Features-Boxed-1.css">
    <link rel="stylesheet" href="../../assets/css/Features-Boxed.css">
    <link rel="stylesheet" href="../../assets/css/Features-Clean.css">
    <link rel="stylesheet" href="../../assets/css/Footer-Dark.css">
    <link rel="stylesheet" href="../../assets/css/Highlight-Blue.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.css">
    <link rel="stylesheet" href="../../assets/css/Lightbox-Gallery.css">
    <link rel="stylesheet" href="../../assets/css/Login-Animate.css">
    <link rel="stylesheet" href="../../assets/css/Login-Form-Clean.css">
    <link rel="stylesheet" href="../../assets/css/Login-with-overlay-image.css">
    <link rel="stylesheet" href="../../assets/css/Off-Canvas-Sidebar-Drawer-Navbar.css">
    <link rel="stylesheet" href="../../assets/css/Responsive-Sticky-Navigation-1.css">
    <link rel="stylesheet" href="../../assets/css/Responsive-Sticky-Navigation.css">
    <link rel="stylesheet" href="../../assets/css/sidebar-1.css">
    <link rel="stylesheet" href="../../assets/css/Sidebar-Menu-1.css">
    <link rel="stylesheet" href="../../assets/css/Sidebar-Menu.css">
    <link rel="stylesheet" href="../../assets/css/SIdebar-Responsive-2-1.css">
    <link rel="stylesheet" href="../../assets/css/SIdebar-Responsive-2.css">
    <link rel="stylesheet" href="../../assets/css/sidebar.css">
    <link rel="stylesheet" href="../../assets/css/styles.css">
    <link rel="stylesheet" href="../../assets/css/Swipe-Slider-7.css">
    <link rel="stylesheet" href="../../assets/css/Swiper-Slider-Card-For-Blog-Or-Product-1.css">
    <link rel="stylesheet" href="../../assets/css/Swiper-Slider-Card-For-Blog-Or-Product.css">

    <!--OTHER LINK-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Adamina&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Aldrich&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+Sans+SC&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+SC&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Aleo&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alfa+Slab+One&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alike+Angular&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amaranth&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amethysta&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amiko&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Chelsea+Market&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway&amp;display=swap">
</head>
<html>
<body style="background: #eef4f7;">
    <!-- NAVBAR -->
    <nav class="navbar navbar-light navbar-expand-lg sticky-top" id="NavbarHomepage" style="background-color: #003630; box-shadow: 0px 0px 6px 0px rgb(0,0,0); margin-bottom: 0px;">
        <div class="container-fluid">
            <a class="navbar-brand" id="BrandLogo" style="margin-right: -6px;">
                <img class="img-fluid" src="../../../assets/img/Logo_NoBG.png" style="width: 80px; margin-right: -12px; margin-top: 0px;">
            </a>
            <div class="container d-flex flex-column justify-content-center align-items-center" id="Brand-Name" style="width: 220.797px; margin-left: 5px; margin-top: 16px;">
                <div class="row" id="head">
                    <div class="col" style="margin-bottom: -13px; margin-left: -19px;">
                        <h1 style="font-size: 29px; letter-spacing: -1px; color: white; font-family: 'Allerta Stencil', sans-serif;">Travellers<strong>HUB</strong></h1>
                    </div>
                </div>
                <div class="row" id="subhead">
                    <div class="col" style="width: 234.797px;">
                        <h3 class="float-start" style="font-size: 19px; text-align: left; color: #0299c4; font-family: 'Alegreya SC', serif;">Travel and Tours</h3>
                    </div>
                </div>
            </div>
            <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1">
                <span class="visually-hidden">Toggle navigation</span>
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navcol-1">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item" id="Home" style="font-weight: bold;">
                        <a class="nav-link" id="Home-Link" href="../Clientpage.html" style="margin-right: 20px; font-size: 23px;">Home</a>
                    </li>
                    <li class="nav-item dropdown" data-bss-hover-animate="bounce" id="Japan" style="font-weight: bold;">
                        <a class="nav-link dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" id="Japan-Link" href="#" style="font-size: 23px;">Japan</a>
                        <div class="dropdown-menu" style="background: #eef4f7; line-height: 25px;">
                            <a class="dropdown-item" id="Tourist Visa" href="../japan/TouristVisa.html">Tourist Visa</a>
                            <a class="dropdown-item" id="Tour Packages" href="../japan/TourPackages.html">Tour Packages</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown" id="About">
                        <a class="nav-link dropdown-toggle" id="Japan-Link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-weight: bold; font-size: 23px;">About</a>
                        <div class="dropdown-menu" style="background: #eef4f7; line-height: 25px;">
                            <a class="dropdown-item" id="About-Us" href="../aboutUs/Introduction.html">About Us</a>
                            <a class="dropdown-item" id="Testimonies" href="../aboutUs/testimonies.html">Testimonies</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown" id="Help-Support" style="font-weight: bold;">
                        <a class="nav-link dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" id="Help-Support-Link" href="#" style="font-size: 23px;">Help & Support</a>
                        <div class="dropdown-menu" style="background: #eef4f7; line-height: 25px;">
                            <a class="dropdown-item" id="FAQ" href="../helpSupport/FAQ.html">FAQ</a>
                            <a class="dropdown-item" id="Terms-Condition" href="../helpSupport/Terms_Condition.html">Terms & Condition</a>
                        </div>
                    </li>
                </ul>

                <!-- Profile Dropdown -->
                <ul class="navbar-nav">
                    <li class="nav-item dropdown" id="Profile" style="list-style: none;">
                        <a class="nav-link dropdown-toggle" id="Profile-Link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-weight: bold; font-size: 23px;">
                        
                        </a>
                        <div class="dropdown-menu" style="background: #eef4f7; line-height: 25px;">
                            <a class="dropdown-item" id="Profile-Page" href="../profile/accountSettings.html">Account Settings</a>
                            <button id="logout-button" class="dropdown-item">Logout</button>
                        </div>
                    </li>
                </ul>
            </div>            
        </div>
    </nav>

    <div class="container">
        <div class="account-settings">
            <h3>Account Settings</h3>
            <form id="accountSettingsForm" action="/api/auth/update-user-data">
                <!-- Name Fields -->
                <div class="row">
                    <div class="col-md-4 form-group mb-3" style="color: #000;">
                        <label for="firstName">First Name</label>                
                        <input class="form-control" type="text" id="firstName">
                    </div>
                    <div class="col-md-4 form-group mb-3" style="color: #000;">
                        <label for="middleName">Middle Name</label>
                        <input class="form-control" type="text" id="middleName">
                    </div>
                    <div class="col-md-4 form-group mb-3" style="color: #000;">
                        <label for="lastName">Last Name</label>
                        <input class="form-control" type="text" id="lastName">
                    </div>
                </div>

                <!-- Contact Information -->
                <div class="row">
                    <div class="col-md-6 form-group mb-3" style="color: #000;">
                        <label for="email">Email</label>
                        <input class="form-control" type="email" id="email">
                    </div>
                    <div class="col-md-6 form-group mb-3" style="color: #000;">
                        <label for="phoneNumber">Phone Number</label>
                        <input class="form-control" type="tel" id="contactNumber">                        
                    </div>
                </div>

                <!-- Birth Date and Address -->
                <div class="row">
                    <div class="col-md-6 form-group mb-3" style="color: #000;">
                        <label for="birthDate">Birth Date</label>
                        <input class="form-control" id="birthDate" type="date" name="birthDate">
                    </div>
                    <div class="col-md-6 form-group mb-3" style="color: #000;">
                        <label for="address">Address</label>
                        <input class="form-control" type="text" id="address">
                    </div>
                </div>

                <!-- Password Change Section -->
                <div class="password-section" id="passwordSection">
                    <h5 class="mt-3">Change Password</h5>
                    <div class="row">
                        <div class="col-md-6 form-group" style="color: #000;">
                            <label for="newPassword">New Password</label>
                            <input class = "form-control" type="password" id="password">
                        </div>
                        <div class="col-md-6 form-group" style="color: #000;">
                            <label for="confirmPassword">Confirm Password</label>
                            <input type="password" class="form-control" id="confirmPassword">
                        </div>
                    </div>
                </div>

                <!-- Button Section -->
                <div class="text-center mt-4">
                    <button type="button" class="btn btn-edit" id="editButton">Edit</button>
                    <button type="submit" class="btn btn-save" id="saveButton" style="display: none;">Save</button>
                </div>
            </form>

        </div>
    </div>

    <script>
        // Function to open the Account Settings modal
        function openProfileModal() {
            document.getElementById('AccountSettingsModal').style.display = 'block';
        }

        // Function to close the modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Optional: Close modal when clicking outside of it
        window.onclick = function(event) {
            var modal = document.getElementById('AccountSettingsModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        };

        // ACCOUNT SETTINGS 
        const editButton = document.getElementById('editButton');
        const saveButton = document.getElementById('saveButton');
        const formFields = document.querySelectorAll('.form-control[readonly]');
        const passwordSection = document.getElementById('passwordSection');

        // Toggle edit mode
        editButton.addEventListener('click', () => {
            formFields.forEach(field => field.removeAttribute('readonly')); // Make fields editable
            passwordSection.style.display = 'block'; // Show password section
            editButton.style.display = 'none'; // Hide Edit button
            saveButton.style.display = 'inline-block'; // Show Save button
        });

        // Save functionality (example)
        document.getElementById('accountSettingsForm').addEventListener('submit', async (e) => {
            e.preventDefault(); // Prevent page reload

            // Collect form data
            const userData = {
                firstName: document.getElementById('firstName').value,
                middleName: document.getElementById('middleName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phoneNumber: document.getElementById('phoneNumber').value,
                birthDate: document.getElementById('birthDate').value,
                address: document.getElementById('address').value,
                newPassword: document.getElementById('newPassword').value,
                confirmPassword: document.getElementById('confirmPassword').value
            };

            // Basic password validation
            if (userData.newPassword && userData.newPassword !== userData.confirmPassword) {
                alert('Passwords do not match!');
                return;
            }

            try {
                // Example: Send updated data to backend (adjust API URL)
                const response = await fetch('/api/users/update', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(userData)
                });

                if (response.ok) {
                    alert('Account updated successfully!');
                    location.reload(); // Reload page to reset state
                } else {
                    const error = await response.json();
                    alert('Error: ' + error.message);
                }
            } catch (error) {
                console.error('Error updating account:', error);
                alert('An error occurred. Please try again.');
            }
        });

    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <script src="../../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../assets/js/bs-init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="../../assets/js/Off-Canvas-Sidebar-Drawer-Navbar.js"></script>
    <script src="../../assets/js/Off-Canvas-Sidebar-Drawer-Navbar-1.js"></script>
    <script src="../../assets/js/Bold-BS4-Jumbotron-with-Particles-js.js"></script>
    <script src="../../assets/js/Responsive-Sticky-Navigation.js"></script>
    <script src="../../assets/js/Sidebar-Menu.js"></script>
    <script src="../../assets/js/Swiper-Slider-Card-For-Blog-Or-Product.js"></script>
    <script src="../../assets/js/Clientpage/Clientpage.js"></script>

    <script src="/client_scripts/dropDownAction.js"></script>


</body>

    <script src="/client_scripts/userAccountSetting.js"></script>
    
</html>